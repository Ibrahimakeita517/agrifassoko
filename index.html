<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AgriFasoko ‚Äî Prototype</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="app" id="app">
    <header>
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div class="brand">
          <div class="logo">AF</div>
          <div>
            <h1>AgriFasoko</h1>
            <p data-i18n="app_desc" style="font-size:12px;opacity:0.9">Application d‚Äôassistance...</p>
          </div>
        </div>
        <button class="bell-btn" id="btnInbox" style="margin-right:8px">
          <i class="fa-solid fa-envelope"></i> <span class="bell-badge" id="msgBadge" style="display:none">0</span>
        </button>
        <button class="bell-btn" id="btnNotifications">
          <i class="fa-solid fa-bell"></i> <span class="bell-badge" id="notifBadge" style="display:none">0</span>
        </button>
      </div>
    </header>

    <main>
      <!-- AUTH -->
      <section id="auth" class="view">
        <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:70vh;text-align:center">
          <div class="logo" style="width:80px;height:80px;font-size:32px;margin-bottom:24px">AF</div>
          <h2 style="margin-bottom:8px">Bienvenue sur AgriFasoko</h2>
          <p class="muted" style="margin-bottom:32px">Connectez-vous pour continuer</p>

          <div id="loginForm" style="width:100%;max-width:350px">
            <input id="loginPhone" type="tel" placeholder="Num√©ro de t√©l√©phone" style="margin-bottom:12px" />
            <input id="loginPass" type="password" placeholder="Mot de passe" style="margin-bottom:24px" />
            <button class="btn" id="btnLogin" style="width:100%;margin-bottom:16px">Se connecter</button>
            <div style="font-size:14px">Pas encore de compte ? <a href="#" id="showSignup" style="color:var(--primary)">Cr√©er un compte</a></div>
          </div>

          <div id="signupForm" style="width:100%;max-width:350px;display:none">
            <input id="signupName" placeholder="Nom complet" style="margin-bottom:12px" />
            <input id="signupPhone" type="tel" placeholder="Num√©ro de t√©l√©phone" style="margin-bottom:12px" />
            <input id="signupLocation" placeholder="Localisation (ex: S√©gou)" style="margin-bottom:12px" />
            <select id="signupType" style="margin-bottom:12px">
              <option value="Cultivateur">Cultivateur</option>
              <option value="√âleveur">√âleveur</option>
              <option value="Commer√ßant">Commer√ßant</option>
            </select>
            <input id="signupPass" type="password" placeholder="Mot de passe" style="margin-bottom:24px" />
            <button class="btn" id="btnSignup" style="width:100%;margin-bottom:16px">S'inscrire</button>
            <div style="font-size:14px">D√©j√† un compte ? <a href="#" id="showLogin" style="color:var(--primary)">Se connecter</a></div>
          </div>
        </div>
      </section>

      <!-- NOTIFICATIONS -->
      <section id="notifications" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 data-i18n="notif_title">Notifications</h2>
          <div><button class="btn ghost" id="backFromNotif" data-i18n="btn_return">Retour</button></div>
        </div>
        <div id="notifList" style="margin-top:16px"></div>
      </section>

      <!-- INBOX -->
      <section id="inbox" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 data-i18n="inbox_title">Messagerie</h2>
          <div><button class="btn ghost" id="backFromInbox" data-i18n="btn_return">Retour</button></div>
        </div>
        <div id="inboxList" class="chat-list" style="margin-top:16px"></div>
      </section>

      <!-- CHAT -->
      <section id="chat" class="view" style="height:calc(100vh - 140px)">
        <div style="display:flex;align-items:center;gap:12px;padding-bottom:12px;border-bottom:1px solid var(--border)">
          <button class="btn ghost" id="backFromChat" style="padding:8px">‚Üê</button>
          <div style="font-weight:bold;font-size:16px" id="chatTargetName">Utilisateur</div>
        </div>
        <div id="chatBubbles" class="chat-bubbles" style="margin-bottom:12px"></div>
        <div class="chat-footer">
          <input id="chatInput" placeholder="Votre message..." style="border:1px solid var(--border);border-radius:24px;padding:10px 16px" />
          <button class="btn" id="btnSendChat" style="border-radius:50%;width:46px;height:46px;padding:0;display:flex;align-items:center;justify-content:center">‚û§</button>
        </div>
      </section>

      <!-- HOME -->
      <section id="home" class="view">
        <div class="grid">
          <div class="card"><div class="icon"><i class="fa-solid fa-shop"></i></div><button data-nav="marche" data-i18n="nav_market">March√©</button><div class="muted" data-i18n="home_market_sub">Acheter / Vendre</div></div>
          <div class="card"><div class="icon"><i class="fa-solid fa-graduation-cap"></i></div><button data-nav="conseils" data-i18n="nav_tips">Conseils</button><div class="muted" data-i18n="home_tips_sub">Articles & vid√©os</div></div>
          <div class="card"><div class="icon"><i class="fa-solid fa-clapperboard"></i></div><button data-nav="videos" data-i18n="nav_videos">Vid√©os</button><div class="muted" data-i18n="home_videos_sub">Divertissement</div></div>
          <div class="card"><div class="icon"><i class="fa-solid fa-user"></i></div><button data-nav="profil" data-i18n="nav_profile">Profil</button><div class="muted" data-i18n="home_profile_sub">Vos donn√©es</div></div>
        </div>

        <section style="margin-top:12px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="muted">Alertes m√©t√©o</div>
            <div class="badge" id="weatherBadge">‚Äî</div>
          </div>
          <div style="margin-top:8px;background:var(--surface);padding:12px;border-radius:10px;border:1px solid var(--border)">
            <div id="weatherText">Chargement des alertes...</div>
          </div>
        </section>
      </section>

      <!-- MARCHE -->
      <section id="marche" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 data-i18n="market_title">March√© Agricole</h2>
          <div><button class="btn ghost" id="backFromMarche" data-i18n="btn_return">Retour</button></div>
        </div>

        <div class="search">
          <input id="marketSearch" placeholder="Rechercher produit ou vendeur" />
          <button class="btn" id="newOfferBtn" data-i18n="btn_sell">Vendre</button>
        </div>

        <!-- Formulaire d'ajout (cach√© par d√©faut) -->
        <div id="offerForm" class="card-panel" style="display:none;margin-top:12px;background:var(--bg);border:1px dashed var(--primary)">
          <h3 style="margin-bottom:12px;font-size:16px">Publier une annonce</h3>
          <div class="row">
            <div class="col"><input id="offerTitle" placeholder="Quoi ? (ex: Sac de Riz)" /></div>
            <div class="col"><input id="offerPrice" type="number" placeholder="Prix (FCFA)" /></div>
          </div>
          <div class="row" style="margin-top:8px">
            <div class="col"><select id="offerCategory"><option>C√©r√©ales</option><option>L√©gumes</option><option>Fruits</option><option>Animaux</option><option>Intrants</option><option>Autre</option></select></div>
            <div class="col"><input id="offerContact" placeholder="T√©l contact" /></div>
          </div>
          <div class="row" style="margin-top:8px"><div class="col"><label>Photo du produit</label><input type="file" id="offerImage" accept="image/*" /></div></div>
          <div style="margin-top:12px;display:flex;gap:8px">
            <button class="btn" id="submitOffer">Publier</button>
            <button class="btn ghost" id="cancelOffer">Annuler</button>
          </div>
        </div>

        <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
          <label style="margin:0">Filtrer :</label>
          <select id="marketCategoryFilter" style="padding:8px;flex:1">
            <option value="">Tout voir</option>
            <option value="C√©r√©ales">C√©r√©ales</option>
            <option value="L√©gumes">L√©gumes</option>
            <option value="Fruits">Fruits</option>
            <option value="Animaux">Animaux</option>
            <option value="Intrants">Intrants</option>
          </select>
        </div>

        <div style="margin-top:8px">
          <h3>Offres</h3>
          <div id="marketList" class="list"></div>
        </div>
      </section>

      <!-- CONSEILS -->
      <section id="conseils" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 data-i18n="tips_title">Conseils & Formation</h2>
          <div style="display:flex;gap:8px">
            <button class="btn" id="btnNewConseil" style="padding:8px 12px;font-size:13px">‚ûï Publier</button>
            <button class="btn ghost" id="backFromConseils" data-i18n="btn_return">Retour</button>
          </div>
        </div>

        <div class="search" style="margin-top:12px">
          <input id="searchAllConseils" placeholder="Rechercher dans tous les conseils..." />
        </div>
        <div class="grid" id="allConseilsList" style="grid-template-columns:repeat(auto-fill, minmax(140px, 1fr));margin-top:16px;display:none"></div>

        <!-- Formulaire Ajout Conseil -->
        <div id="conseilForm" class="card-panel" style="display:none;margin-top:12px;background:var(--bg);border:1px dashed var(--primary)">
          <h3 style="margin-bottom:12px;font-size:16px">Partager une technique ou un conseil</h3>
          <div class="row">
            <div class="col"><label>Titre</label><input id="conseilTitle" placeholder="Ex: Comment lutter contre..." /></div>
            <div class="col">
              <label>Cat√©gorie</label>
              <select id="conseilType">
                <option value="agri">Cultivateur üåæ</option>
                <option value="elevage">√âleveur üêî</option>
              </select>
            </div>
          </div>
          <div class="row" style="margin-top:12px">
            <div class="col"><label>R√©sum√© (court)</label><input id="conseilExcerpt" placeholder="Une phrase d'accroche..." /></div>
          </div>
          <div class="row" style="margin-top:12px">
            <div class="col"><label>Contenu d√©taill√©</label><textarea id="conseilContent" rows="5" placeholder="Expliquez les √©tapes..."></textarea></div>
          </div>
          <div style="margin-top:12px;display:flex;gap:8px">
            <button class="btn" id="submitConseil">Publier</button>
            <button class="btn ghost" id="cancelConseil">Annuler</button>
          </div>
        </div>
        
        <div id="conseilsCategories" style="display:flex;flex-direction:column;gap:16px;margin-top:24px">
          <div class="card" id="btnConseilAgri" style="flex-direction:row;padding:20px;gap:16px;cursor:pointer;text-align:left;align-items:center">
            <div class="icon" style="background:#dcfce7;color:#16a34a;font-size:32px;width:60px;height:60px;flex-shrink:0"><i class="fa-solid fa-wheat-awn"></i></div>
            <div>
              <h3 style="font-size:18px;margin-bottom:4px;color:#15803d" data-i18n="tips_agri_title">Espace Cultivateur</h3>
              <div class="muted" data-i18n="tips_agri_sub">Techniques, sols, semences...</div>
            </div>
          </div>

          <div class="card" id="btnConseilElevage" style="flex-direction:row;padding:20px;gap:16px;cursor:pointer;text-align:left;align-items:center">
            <div class="icon" style="background:#ffedd5;color:#ea580c;font-size:32px;width:60px;height:60px;flex-shrink:0"><i class="fa-solid fa-cow"></i></div>
            <div>
              <h3 style="font-size:18px;margin-bottom:4px;color:#c2410c" data-i18n="tips_elev_title">Espace √âleveur</h3>
              <div class="muted" data-i18n="tips_elev_sub">Sant√©, nutrition, vaccins...</div>
            </div>
          </div>

          <div class="card" id="btnConseilFormation" style="flex-direction:row;padding:20px;gap:16px;cursor:pointer;text-align:left;align-items:center">
            <div class="icon" style="background:#dbeafe;color:#2563eb;font-size:32px;width:60px;height:60px;flex-shrink:0"><i class="fa-solid fa-user-graduate"></i></div>
            <div>
              <h3 style="font-size:18px;margin-bottom:4px;color:#1d4ed8" data-i18n="tips_form_title">Espace Formation</h3>
              <div class="muted" data-i18n="tips_form_sub">Gestion, comptabilit√©, marketing...</div>
            </div>
          </div>
        </div>
      </section>

      <!-- SUB-SECTION: AGRI -->
      <section id="conseils-agri" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 style="color:#15803d;font-size:20px">Cultivateurs üåæ</h2>
          <div><button class="btn ghost" id="backToConseilsFromAgri" data-i18n="btn_return">Retour</button></div>
        </div>
        <div class="search">
          <input id="searchAgri" placeholder="Rechercher un conseil..." />
          <select id="filterTypeAgri" style="width:auto;padding:8px">
            <option value="all" data-i18n="filter_all">Tout</option>
            <option value="video" data-i18n="filter_video">Vid√©o</option>
            <option value="article" data-i18n="filter_article">Article</option>
          </select>
        </div>
        <div class="grid" id="agriList" style="grid-template-columns:repeat(auto-fill, minmax(140px, 1fr));margin-top:16px"></div>
      </section>

      <!-- SUB-SECTION: ELEVAGE -->
      <section id="conseils-elevage" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 style="color:#c2410c;font-size:20px">√âleveurs üêî</h2>
          <div><button class="btn ghost" id="backToConseilsFromElevage" data-i18n="btn_return">Retour</button></div>
        </div>
        <div class="search">
          <input id="searchElevage" placeholder="Rechercher un conseil..." />
          <select id="filterTypeElevage" style="width:auto;padding:8px">
            <option value="all" data-i18n="filter_all">Tout</option>
            <option value="video" data-i18n="filter_video">Vid√©o</option>
            <option value="article" data-i18n="filter_article">Article</option>
          </select>
        </div>
        <div class="grid" id="elevageList" style="grid-template-columns:repeat(auto-fill, minmax(140px, 1fr));margin-top:16px"></div>
      </section>

      <!-- SUB-SECTION: FORMATION -->
      <section id="conseils-formation" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 style="color:#1d4ed8;font-size:20px">Formations üéì</h2>
          <div><button class="btn ghost" id="backToConseilsFromFormation" data-i18n="btn_return">Retour</button></div>
        </div>
        <div class="search">
          <input id="searchFormation" placeholder="Rechercher une formation..." />
          <select id="filterTypeFormation" style="width:auto;padding:8px">
            <option value="all" data-i18n="filter_all">Tout</option>
            <option value="video" data-i18n="filter_video">Vid√©o</option>
            <option value="article" data-i18n="filter_article">Article</option>
          </select>
        </div>
        <div class="grid" id="formationList" style="grid-template-columns:repeat(auto-fill, minmax(140px, 1fr));margin-top:16px"></div>
      </section>

      <!-- VIDEOS (TikTok Style) -->
      <section id="videos" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 data-i18n="videos_title">Vid√©os üé¨</h2>
          <div style="display:flex;gap:8px">
            <button class="btn" id="btnNewVideo" style="padding:8px 12px;font-size:13px">‚ûï Publier</button>
            <button class="btn ghost" id="backFromVideos" data-i18n="btn_return">Retour</button>
          </div>
        </div>

        <!-- Formulaire Ajout Vid√©o -->
        <div id="videoForm" class="card-panel" style="display:none;margin-top:12px;background:var(--bg);border:1px dashed var(--primary)">
          <h3 style="margin-bottom:12px;font-size:16px">Publier une vid√©o ou photo</h3>
          <div class="row">
            <div class="col"><label>Titre / Description</label><input id="videoTitle" placeholder="Ex: Ma belle r√©colte..." /></div>
          </div>
          <div class="row" style="margin-top:12px">
            <div class="col"><label>Fichier (Vid√©o ou Photo)</label><input type="file" id="videoFile" accept="video/*,image/*" /></div>
          </div>
          <div style="margin-top:12px;display:flex;gap:8px">
            <button class="btn" id="submitVideo">Publier</button>
            <button class="btn ghost" id="cancelVideo">Annuler</button>
          </div>
        </div>
        <div class="tiktok-feed" id="videoFeed"></div>
      </section>

      <!-- PROFIL -->
      <section id="profil" class="view">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 data-i18n="profile_title">Profil</h2>
          <div><button class="btn ghost" id="backFromProfil" data-i18n="btn_return">Retour</button></div>
        </div>
        
        <div class="card-panel" style="text-align:center;margin-bottom:8px">
          <div style="position:relative;width:90px;height:90px;margin:0 auto 12px">
            <img id="profileImage" style="width:100%;height:100%;border-radius:50%;object-fit:cover;border:3px solid var(--surface);box-shadow:0 4px 10px rgba(0,0,0,0.1)" src="https://placehold.co/100x100/e2e8f0/64748b?text=Photo" />
            <button id="changePhotoBtn" style="position:absolute;bottom:0;right:0;background:var(--primary);color:white;border:2px solid var(--surface);width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;box-shadow:0 2px 5px rgba(0,0,0,0.2)"><i class="fa-solid fa-camera"></i></button>
            <input type="file" id="profilePhotoInput" accept="image/*" style="display:none" />
          </div>
          <h3 id="displayProfileName">Utilisateur</h3>
          <div class="muted" id="displayProfileRole">Membre</div>
        </div>

        <div class="card-panel">
          <h3 style="margin-bottom:12px;font-size:16px">Mes Informations</h3>
          <div class="row">
            <div class="col"><label data-i18n="lbl_name">Nom complet</label><input id="profileName" placeholder="Votre nom" /></div>
            <div class="col">
              <label data-i18n="lbl_activity">Activit√©</label>
              <select id="profileType"><option>Cultivateur</option><option>√âleveur</option><option>Commer√ßant</option><option>Autre</option></select>
            </div>
          </div>
          <div class="row" style="margin-top:12px">
            <div class="col"><label data-i18n="lbl_location">Localisation</label><input id="profileLocation" placeholder="Ex: Koulikoro" /></div>
            <div class="col"><label data-i18n="lbl_phone">T√©l√©phone</label><input id="profilePhone" placeholder="+223 ..." /></div>
          </div>
          <label style="margin-top:12px" data-i18n="lbl_bio">Bio / Description</label>
          <textarea id="profileBio" rows="2" placeholder="D√©crivez votre ferme..."></textarea>
          <div style="margin-top:16px"><button class="btn" id="saveProfile" style="width:100%" data-i18n="btn_update">Mettre √† jour</button></div>
        </div>

        <div class="card-panel" style="margin-top:16px">
          <h3 style="margin-bottom:12px;font-size:16px">Statistiques & Activit√©</h3>
          <div class="grid" style="grid-template-columns: repeat(2, 1fr); gap: 12px;">
            <div style="background:var(--bg);padding:16px;border-radius:12px;text-align:center;border:1px solid var(--border)">
              <div style="font-size:24px;font-weight:800;color:var(--primary)" id="statOffersCount">0</div>
              <div class="muted" style="font-size:13px;margin-top:4px">Annonces</div>
            </div>
            <div style="background:var(--bg);padding:16px;border-radius:12px;text-align:center;border:1px solid var(--border)">
              <div style="font-size:24px;font-weight:800;color:#ea580c" id="statLikesCount">0</div>
              <div class="muted" style="font-size:13px;margin-top:4px">Favoris</div>
            </div>
            <div style="background:var(--bg);padding:16px;border-radius:12px;text-align:center;border:1px solid var(--border)">
              <div style="font-size:24px;font-weight:800;color:#2563eb" id="statCommentsCount">0</div>
              <div class="muted" style="font-size:13px;margin-top:4px">Commentaires</div>
            </div>
            <div style="background:var(--bg);padding:16px;border-radius:12px;text-align:center;border:1px solid var(--border)">
              <div style="font-size:14px;font-weight:700;color:var(--text);margin-top:6px" id="statMemberSince">-</div>
              <div class="muted" style="font-size:13px;margin-top:4px">Membre depuis</div>
            </div>
          </div>
        </div>

        <div class="card-panel" style="margin-top:16px">
          <h3 style="margin-bottom:12px;font-size:16px">Param√®tres de l'application</h3>
          <div class="row">
            <div class="col"><label data-i18n="lbl_lang">Langue / Kan</label><select id="profileLang"><option value="fr">Fran√ßais</option><option value="bm">Bambara</option><option value="en">English</option></select></div>
            <div class="col"><label data-i18n="lbl_theme">Th√®me</label><select id="profileTheme"><option value="light">Clair ‚òÄÔ∏è</option><option value="dark">Sombre üåô</option></select></div>
          </div>
        </div>

        <div class="card-panel" style="margin-top:16px;text-align:center">
          <h3 style="margin-bottom:12px;font-size:16px" data-i18n="share_title">Faire conna√Ætre l'app</h3>
          <button class="btn" id="shareAppBtn" style="width:100%;background:#25D366;color:white;border:none">
            <span style="margin-right:8px;font-size:18px"><i class="fa-brands fa-whatsapp"></i></span> <span data-i18n="btn_share">Partager sur WhatsApp</span>
          </button>
          <button class="btn ghost" id="btnLogout" style="width:100%;margin-top:16px;border-color:#ef4444;color:#ef4444">Se d√©connecter</button>
        </div>
      </section>

    </main>

    <nav class="bottom">
      <div class="bn">
        <button data-nav="marche" data-i18n="nav_market">March√©</button>
        <button data-nav="conseils" data-i18n="nav_tips">Conseils</button>
        <button data-nav="videos" data-i18n="nav_videos">Vid√©os</button>
        <button data-nav="profil" data-i18n="nav_profile">Profil</button>
      </div>
    </nav>

    <!-- Generic Modal -->
    <div id="modal" class="modal-overlay">
      <div class="modal-card">
        <button class="close-modal" id="closeModal">&times;</button>
        <div id="modalContent"></div>
      </div>
    </div>

    <!-- Loader -->
    <div id="loader" class="loader-overlay">
      <div class="spinner"></div>
    </div>
  </div>


  <script src="script.js"></script>
</body>
</html>
